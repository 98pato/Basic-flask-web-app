{% extends 'base.html' %}

{% block head %}
<title>Task Master</title>
{% endblock %}

{% block body %}
<div class="content" style="text-align: center;">
    <h1>Task Master</h1>

    {% if tasks|length < 1 %}
    <h4>There are no tasks. Create one below!</h4>
    {% else %}
    <table style="border-collapse: collapse; width: 80%; margin: 20px auto; text-align: left;">
        <tr>
            <th style="border: 1px solid black; padding: 10px; background-color: #f0f0f0;">Task</th>
            <th style="border: 1px solid black; padding: 10px; background-color: #f0f0f0;">Added</th>
            <th style="border: 1px solid black; padding: 10px; background-color: #f0f0f0;">Actions</th>
        </tr>
        {% for task in tasks %}
        <tr>
            <td style="border: 1px solid black; padding: 10px;">{{ task.content }}</td>
            <td style="border: 1px solid black; padding: 10px;">{{ task.date_created.strftime('%Y-%m-%d') }}</td>
            <td style="border: 1px solid black; padding: 10px;">
                <a href="/update/{{ task.id }}" style="color: blue; text-decoration: none; margin-right: 10px;">Update</a>
                <a href="/delete/{{ task.id }}" style="color: red; text-decoration: none;" onclick="return confirm('Are you sure you want to delete this task?');">Delete</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}

    <!-- Add Task Form -->
    <form action="/" method="POST" style="margin: 20px auto;">
        <input type="text" name="content" id="content" placeholder="Enter your task" required style="padding: 8px; width: 300px;">
        <input type="submit" value="Add Task" style="padding: 8px 15px; background-color: green; color: white; border: none; cursor: pointer;">
    </form>
</div>
{% endblock %}
